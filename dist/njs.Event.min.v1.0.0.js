/*! njs.Event.min.v1.0.0.js - 2018-03-19 */
window.njs||(window.njs={}),window.njs&&!njs.Event&&(njs.Event=function(){var l,u,v,h,n="1.0.0",p=function(n){var t=n._getListOfEventListeners&&n._getListOfEventListeners();return(t=t||n.eventListeners||(n.eventListeners={})).list||(t.list={})},t=(u=function(){l=!0},v=l=!1,h=function(){v=!0},function(n,t){var i=l,r=v;l=v=!1;var e=p(this)[n];if(e){var s=e.listeners;if(s&&0<s.length){var f;s=s.slice(0);for(var o=0;o<s.length&&(!1===(f=s[o].call(this,t,h,u))?l=!0:void 0!==f&&(t=f),!l&&!v);o++);}}var a=!l&&(void 0===t||t);return l=i,v=r,a}),i=function(){};return i.version=n,i["extends"]=function(n){if(n){var t=njs.Event.prototype;for(var i in t)t.hasOwnProperty(i)&&(n[i]||n.hasOwnProperty(i)||(n[i]=t[i]))}},i.toString=function(){return"[class njs.Event] v"+n},i.prototype={fire:t,fireOnce:function(n,t){var i=this.fire(n,t);return delete p(this)[n],i},hasListener:function(n,t){var i=p(this)[n];return i&&0<=i.indexOf(t)},hasListeners:function(n){var t=p(this)[n];return!!(t&&t.listeners&&0<t.listeners.length)},off:function(n,t){if(n&&t&&"string"==typeof n&&"function"==typeof t){var i=n.split(" "),r=i.length;if(1<r)for(var e=0;e<r;e++)this.off(i[e],t);else{var s=p(this)[n];if(s){var f=s.indexOf(t);0<=f&&s.listeners.splice(f,1)}}}},offAll:function(){var n=p(this);for(var t in n)n.hasOwnProperty(t)&&(n[t]=null,delete n[t])},offs:function(n){if(n){var t=n.split(" "),i=t.length;if(1<i)for(var r=0;r<i;r++)this.offs(t[r]);else{var e=p(this);for(var s in e)if(n===s){e[n]=null,delete e[n];break}}}},on:function(e,s,f,o,n){if(!e||!s)return null;if("string"!=typeof e||"function"!=typeof s)return null;var t=e.split(" "),i=t.length;if(!(1<i)){var r=this;f||(f=this),isNaN(n)&&(n=10);var a=function(){r.off(e,s)},l=function(n,t,i){var r={cancel:i,data:o,info:n,off:a,sender:this,stop:t,name:e};return!1!==s.call(f,r)&&r.info},u=function(n){var t=p(this);return t[n]||(t[n]=new function(n){this.name=n,this.listeners=[],this.indexOf=function(n){for(var t=this.listeners,i=t.length,r=0;r<i;r++)if(t[r].listener===n)return r;return-1}}(n))}.call(this,e);if(u.indexOf(s)<0){var v=u.listeners;l.listener=s,l.priority=n;for(var h=v.length-1;0<=h;h--)if(v[h].priority<=n)return v.splice(h+1,0,l),{off:a};v.unshift(l)}return{off:a}}for(var c=0;c<i;c++)this.on(t[c],s,f,o,n)},once:function(){var n=Array.prototype.slice.call(arguments),t=n[1];return n[1]=function(n){return n.off(),t.apply(this,arguments)},this.on.apply(this,n)}},i}());
